(this["webpackJsonplaliga-react-test"]=this["webpackJsonplaliga-react-test"]||[]).push([[4],{152:function(t,e,n){t.exports=n.p+"static/media/white_logo.b5439303.svg"},194:function(t,e,n){"use strict";n.r(e);var a,r,c,o,i,l,u=n(0),s=n.n(u),p=n(43),m=n(38),f=n(82),b=n(177),d=n(180),h=n(181),g=n(183),v=n(197),j=n(178),E=n(185),O=n(198),y=n(199),w=n(186),x=n(182),k=n(39),C=n(113),_=n.n(C),A=n(6),L=n(114),S=n(132),q=n.n(S).a.create({baseURL:"https://reqres.in/api/"}),D=n(15),I=function(){return{type:D.c}},N=function(t){return{type:D.d,payload:{error:t}}},T=function(t){return{type:D.e,payload:{user:t}}},B=function(t){var e=t.open,n=t.isAuthenticated,a=t.user,r=t.onClose,c=Object(u.useRef)(null),o=Object(k.b)(),i=function(t){"Tab"===t.key&&(t.preventDefault(),r())},l=function(){o({type:D.b})};return n?s.a.createElement(b.a,{color:"primary",position:"fixed"},s.a.createElement(d.a,null,s.a.createElement(h.a,{onClick:r,ref:c},s.a.createElement(x.a,null)),s.a.createElement(g.a,{open:e,transition:!0,disablePortal:!0,role:void 0,anchorEl:c.current},(function(t){var n=t.TransitionProps,a=t.placement;return s.a.createElement(v.a,Object.assign({},n,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),s.a.createElement(j.a,null,s.a.createElement(E.a,{onClickAway:r},s.a.createElement(O.a,{id:"user-menu",autoFocusItem:e,onKeyDown:i},s.a.createElement(y.a,{onClick:l},"Cerrar sesi\xf3n")))))})),s.a.createElement(w.a,{variant:"h6"},"La liga - Bienvenidx ",a.first_name," ",a.last_name))):null},F=n(24),P=Object(F.b)(f.a)(a||(a=Object(m.a)(["\n",""])),(function(t){var e=t.theme;return"\n    height:100%;\n    width: 100%;\n    background-color: ".concat(e.palette.background.default,"\n")})),Y=function(t){var e=t.children,n=Object(k.c)((function(t){return t.auth})),a=n.user,r=n.isAuthenticated,c=Object(u.useState)(!1),o=Object(p.a)(c,2),i=o[0],l=o[1];return s.a.createElement(P,null,s.a.createElement(B,{key:"nav bar",open:i,user:a,onClose:function(){return l((function(t){return!t}))},isAuthenticated:r}),e)},J=n(2),R=n(26),W=n(187),z=n(47),K=n(193),U=n(22),G=Object(F.b)((function(t){return s.a.createElement(K.a,Object.assign({InputLabelProps:{className:"custom-label"}},t,{fullWidth:!0,variant:"outlined",square:"true"}))}))(r||(r=Object(m.a)(["\n",""])),(function(t){t.theme;return"\n\t.custom-label{\n\t\tcolor: ".concat(U.a.white,";\n\t}\n")})),H=function(t){return s.a.createElement(G,t)},M=n(152),Q=n.n(M),V="Bienvenido al Test de La Liga",X="Iniciar Sesi\xf3n",Z="https://fanslaliga.laliga.com/static/img/background.e8e7288.png",$={email:"",password:""},tt=Object(F.b)(f.a)(c||(c=Object(m.a)(["\n",""])),(function(t){var e=t.theme;return"\n\tposition: relative; \n\tdisplay: flex;\n\tjustity-content: center; \n\talign-items: center;\n\tmargin: auto;\n\twidth: 100%;\n\theight:100%;\n\tmax-width: 600px;\n\tform {\n\t\twidth:100%;\n\t\theight: 100%;\n\t\tdisplay: flex; \n\t\tflex-wrap: wrap; \n\t\talign-items:center;\n\t\tflex-direction: column;\n\t\tpadding: 0 15px;\n\t\tbackground-color: ".concat(Object(R.b)(e.palette.background.default,.5),';\n\t\tsection {\n\t\t\tjustify-self: flex-start;\n\t\t\twidth: 100%; \n\t\t\theight: 30%; \n\t\t\tbackground: url("').concat(Z,'");\n\t\t\tbackground-size: cover;\n\t\t\tbackground-position:center; \n\t\t}\n\t\timg {\n\t\t\twidth: 130px;\n\t\t\tmargin: 0  auto;\n\t\t\ttransform: translateY(-40%);\n\t\t\tpadding: 20px; \n\t\t}\n\t}\t\n')})),et=function(){var t=Object(k.b)(),e=Object(u.useState)($),n=Object(p.a)(e,2),a=n[0],r=n[1],c=Object(k.c)((function(t){return t.auth})),o=c.error,i=c.isFetching;return s.a.createElement(tt,null,s.a.createElement(z.a,{loading:i}),s.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=a.email!==$.email,c=a.password!==$.password;n||c?t(function(t){return function(){var e=Object(L.a)(_.a.mark((function e(n){var a,r,c,o,i,l,u,s,p;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(I()),a=t.email,r=t.password,c={email:a,password:r},e.next=6,q.post("login/",c);case 6:return o=e.sent,i=o.data,l=i.token,4,e.next=12,q.get("users/".concat(4));case 12:u=e.sent,s=Object(A.a)({token:l},u.data),n(T(s)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),p=e.t0.response.data.error,n(N(p));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()}(a)):r((function(t){return Object(A.a)(Object(A.a)({},t),{},{error:n?"Contrase\xf1a no valida":"Email no valido"})}))}},s.a.createElement("section",null),s.a.createElement("img",{src:Q.a,alt:"logo"}),s.a.createElement(f.a,null,s.a.createElement(w.a,{color:"primary",variant:"h1"},V),s.a.createElement(H,{required:!0,label:"correo",error:!!o,type:"email",onChange:function(t){var e=t.target.value;r((function(t){return Object(A.a)(Object(A.a)({},t),{},{email:e})}))}}),s.a.createElement(H,{required:!0,type:"password",label:"contrase\xf1a",error:!!o,helperText:o,onChange:function(t){var e=t.target.value;r((function(t){return Object(A.a)(Object(A.a)({},t),{},{password:e})}))}}),s.a.createElement(W.a,{fullWidth:!0,type:"submit",variant:"contained"},X))))},nt=n(188),at=n(189),rt=n(190),ct=n(191),ot=Object(F.b)(nt.a)(o||(o=Object(m.a)(["\n",""])),(function(t){t.theme;return"\n    width: 100%;\n    margin: 20px 0;\n    opacity: 1;\n    animation: Entrance 0.5s  ease-in;\n    @media (min-width: 600px){\n        \n    }\n    @keyframes Entrance {\n        from {\n            opacity: 0;\n            transform: translateY(15px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n"})),it=function(t){var e=t.avatar,n=t.first_name,a=t.last_name,r=t.email;t.delay;return s.a.createElement(ot,null,s.a.createElement(at.a,null,s.a.createElement(rt.a,{className:"media",style:{height:"190px"},image:e,title:n}),s.a.createElement(ct.a,null,s.a.createElement(w.a,{variant:"h5",gutterBottom:!0,component:"h2"},"".concat(n," ").concat(a)),s.a.createElement(w.a,{variant:"body2",component:"p",color:"textSecondary"},r))))},lt=n(27),ut=function(t){return function(){var e=Object(L.a)(_.a.mark((function e(n){var a,r,c,o,i,l,u,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(st()),a=t?"users?page=".concat(t):"users",e.next=5,q.get(a);case 5:r=e.sent,c=r.data,o=Object.values(c.data),i=c.page,l=c.per_page,u=c.total,s=c.total_pages,n(mt({users:o,page:i,per_page:l,total:u,total_pages:s})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),n(pt(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},st=function(){return{type:lt.a}},pt=function(t){return{type:lt.b,payload:{error:t}}},mt=function(t){return{type:lt.c,payload:{viewData:t}}},ft=n(195),bt=n(192),dt=Object(F.b)(f.a)(i||(i=Object(m.a)(["\n",""])),(function(t){t.theme;return"\n        width: 100%;\n        padding: 20px;\n        max-width: 300px;\n        margin: auto;\n        .pagination ul {\n            justify-content: center;\n        }\n"})),ht=[{url:"/login",label:"Iniciar Sesi\xf3n",view:et},{url:"/users",label:"Listado",view:function(){var t=Object(k.b)(),e=Object(k.c)((function(t){return t.users})),n=e.page,a=e.users,r=e.total,c=e.per_page,o=e.isFetching,i=e.total_pages;Object(u.useEffect)((function(){t(ut())}),[t]);return s.a.createElement(dt,null,null!==o&&void 0!==o?o:s.a.createElement(bt.a,null),s.a.createElement(w.a,{color:"primary"},"Listado - (",r,")"),a.map((function(t,e){return s.a.createElement(it,Object.assign({},t,{delay:e,key:t.email}))})).filter((function(t,e){return e<=c})),s.a.createElement(ft.a,{onChange:function(e,n){t(ut(n))},className:"pagination",key:"pagination",variant:"outlined",shape:"rounded",page:n,count:i}))}}],gt=n(153),vt=function(){return Object(u.useContext)(J.d)},jt=Object(F.b)(f.a)(l||(l=Object(m.a)(["\n",""])),(function(t){t.theme;return"\n        width: 100%;\n        height: 100%;\n        overflow-x: hidden; \n    }\n"})),Et=function(t){var e=t.routes,n=t.isAuth,a=vt().location,r={width:"100%",height:"100%"},c=Object(gt.c)(a,(function(t){return t.pathname}),{from:Object(A.a)({position:"absolute",opacity:0,transform:"translate3d(0, 100vh, 0)"},r),enter:Object(A.a)({position:"relative",opacity:1,transform:"translate3d(0, 0, 0)"},r),leave:Object(A.a)({position:"absolute",opacity:0,transform:"translate3d(0, -20vh, 0)"},r),config:gt.b.slow}).map((function(t){var a=t.item,r=t.props,c=t.key;return s.a.createElement(gt.a.div,{className:"wrapper",key:c,style:r},s.a.createElement(J.c,{location:a},n&&e.map((function(t){return s.a.createElement(J.a,{exact:!0,key:t.url,path:t.url,component:t.view})})),!n&&s.a.createElement(et,null)))}));return s.a.createElement(jt,null,c)};e.default=function(){var t=Object(J.f)(),e=Object(k.b)(),n=Object(k.c)((function(t){return t.auth})).isAuthenticated;return Object(u.useEffect)((function(){e({type:D.a})}),[e]),Object(u.useEffect)((function(){n&&t.push("/users")}),[n,t]),s.a.createElement(Y,null,s.a.createElement(Et,{routes:ht,isAuth:n}))}}}]);
//# sourceMappingURL=4.2e6b3324.chunk.js.map